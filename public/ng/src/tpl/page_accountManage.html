<div class="modal-body wrapper-lg ng-scope" style="
    margin: 80px 50px;
    height: 4017px;
    padding-left: 100px;
    padding-right: 20px;">
    <div class="row" style="height: 300px;margin: 10px;">
        <div class="sub-block">
            <div class="inp">
                <div class="inp-item">可用资金(元):</div>
                <div class="inp-item">
                    <input type="text">
                </div>
            </div>
            <div class="inp">
                <div class="inp-item">可用资金(元):</div>
                <div class="inp-item">
                    <input type="text">
                </div>
            </div>
            <div class="inp">
                <div class="inp-item">授信额度(元):</div>
                <div class="inp-item">
                    <input type="text">
                </div>
            </div>
        </div>
        <div class="sub-block">
            <div id="main" class="echart"></div>
        </div>
    </div>

    <div class="row" style="margin-top: 30px;">
        <div class="sub-block acleft">
            <div class="form-group form-inline">
                <label>已占用:  </label>
                <input type="text" name="money" id="money1" value="12,000,000.00" style="text-align: center;width: 290px;" onchange="money()">
            </div>
        </div>

        <div class="sub-block acleft">
            <div class="form-group form-inline">
                <label>可用:  </label>
                <input type="text" name="money" id="money2" value="8,000,000.00" style="padding-left: 20px;" onchange="money()">
            </div>
        </div>
        <div class="money-bar">
            <div class="money-bar-left">123</div><div class="money-bar-right">123</div>
        </div>
    </div>

    <div class="row" style="margin-top: 100px;">
        <div class="panel panel-default" style="width: 950px">
            <table st-table="rowCollectionPage" class="table table-striped" style="width: 910px;font-size: 14px;text-align: center">
                <thead>
                <tr>
                    <th>持仓编号</th>
                    <th>标的</th>
                    <th>合约类型</th>
                    <th>执行价</th>
                    <th>到期日</th>
                    <th>合约规模(手)</th>
                    <th>方向</th>
                    <th>交易对手</th>
                    <th>对手信用评级</th>
                    <th>浮动盈亏</th>

                </tr>

                </thead>
                <tbody>
                <tr>
                    <td>900144102</td>
                    <td>沪深300</td>
                    <td>欧式看跌</td>
                    <td>3600</td>
                    <td>2020-01-13</td>
                    <td>100</td>
                    <td>卖出</td>
                    <td>B公司</td>
                    <td>A</td>
                    <td>3532.29</td>

                </tr>

                <tr>
                    <td>900144103</td>
                    <td>豆粕2001</td>
                    <td>美式看涨</td>
                    <td>2950</td>
                    <td>2019-12-15</td>
                    <td>100</td>
                    <td>买入</td>
                    <td>A公司</td>
                    <td>BBB</td>
                    <td>-125.13</td>
                </tr>
                </tbody>
            </table>


        </div>
    </div>

    <script>
        function money() {
            let money1 = $('#money1').val().replace(/,/g, "")
            let moneyleft = parseFloat(money1)
            let money2 = $('#money2').val().replace(/,/g, "")
            let moneyright = parseFloat(money2)

            let leftwidth = ((moneyleft / (moneyleft + moneyright))*100).toFixed(2)
            let leftstr = leftwidth + '%'
            $('.money-bar-left').text(leftstr)
            $('.money-bar-left').attr('style','width:'+leftstr);

            let rightwidth = ((1- moneyleft / (moneyleft + moneyright))*100).toFixed(2)
            let rightstr = rightwidth + '%'
            $('.money-bar-right').text(rightstr)
            $('.money-bar-right').attr('style','width:'+rightstr);
        }
        money()
    </script>
    <script>
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        option = {
            title: {
                text: '天气情况统计',
                left: 'center'
            },
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                // orient: 'vertical',
                // top: 'middle',
                bottom: 10,
                left: 'center',
                data: ['西凉', '益州','兖州','荆州','幽州']
            },
            series : [
                {
                    type: 'pie',
                    radius : '65%',
                    center: ['50%', '50%'],
                    selectedMode: 'single',
                    data:[
                        {
                            value:1548,
                            name: '幽州',
                            label: {
                                normal: {
                                    backgroundColor: '#eee',
                                    borderColor: '#777',
                                    borderWidth: 1,
                                    borderRadius: 4,
                                    rich: {
                                        title: {
                                            color: '#eee',
                                            align: 'center'
                                        },
                                        abg: {
                                            backgroundColor: '#333',
                                            width: '100%',
                                            align: 'right',
                                            height: 25,
                                            borderRadius: [4, 4, 0, 0]
                                        },
                                        weatherHead: {
                                            color: '#333',
                                            height: 24,
                                            align: 'left'
                                        },
                                        hr: {
                                            borderColor: '#777',
                                            width: '100%',
                                            borderWidth: 0.5,
                                            height: 0
                                        },
                                        value: {
                                            width: 20,
                                            padding: [0, 20, 0, 30],
                                            align: 'left'
                                        },
                                        valueHead: {
                                            color: '#333',
                                            width: 20,
                                            padding: [0, 20, 0, 30],
                                            align: 'center'
                                        },
                                        rate: {
                                            width: 40,
                                            align: 'right',
                                            padding: [0, 10, 0, 0]
                                        },
                                        rateHead: {
                                            color: '#333',
                                            width: 40,
                                            align: 'center',
                                            padding: [0, 10, 0, 0]
                                        }
                                    }
                                }
                            }
                        },
                        {value:535, name: '荆州'},
                        {value:510, name: '兖州'},
                        {value:634, name: '益州'},
                        {value:735, name: '西凉'}
                    ],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</div>